From ae872be1823271f04aa68dfb158084fff969e79c Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Thu, 22 Nov 2018 14:35:25 +0100
Subject: [PATCH] arm64: dt: fsl-imx8qxp-tqma8qxs: add usb otg supprt

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 .../boot/dts/freescale/fsl-imx8qxp-tqma8qxs.dtsi | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qxs.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qxs.dtsi
index 7158a94f513f..7919a043b9da 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qxs.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qxs.dtsi
@@ -194,6 +194,13 @@
 			>;
 		};
 
+		pinctrl_usbotg1: usbotg1grp {
+			fsl,pins = <
+				SC_P_USB_SS3_TC0_CONN_USB_OTG1_PWR	0x06000020
+				SC_P_USB_SS3_TC2_CONN_USB_OTG1_OC	0x06000020
+			>;
+		};
+
 		pinctrl_usdhc1: usdhc1grp {
 			fsl,pins = <
 				SC_P_EMMC0_CLK_CONN_EMMC0_CLK		0x06000041
@@ -260,6 +267,15 @@
 	status = "okay";
 };
 
+&usbotg1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_usbotg1>;
+/*	vbus-supply = <&reg_mba8qx_5v>; */
+	power-polarity-active-high;
+	dr_mode = "otg";
+	status = "okay";
+};
+
 &usdhc1 {
 	pinctrl-names = "default", "state_100mhz", "state_200mhz";
 	pinctrl-0 = <&pinctrl_usdhc1>;
