From 63cc7aa3d9f3c771127fcfd9d3c0b7f7e545502e Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Tue, 23 Oct 2018 17:46:24 +0200
Subject: [PATCH] arm64: dt: fsl-imx8qxp-tqma8qx: add and populate i2c1

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 .../dts/freescale/fsl-imx8qxp-tqma8qx.dtsi    | 45 +++++++++++++++++--
 1 file changed, 42 insertions(+), 3 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qx.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qx.dtsi
index d3b9397184ee..a56fb25aabac 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qx.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8qxp-tqma8qx.dtsi
@@ -43,10 +43,10 @@
 &iomuxc {
 	pinctrl-names = "default";
 	imx8qxp-tqma8qx {
-		pinctrl_lpi2c1: lpi1cgrp {
+		pinctrl_lpi2c1: lpi2c1grp {
 			fsl,pins = <
-				SC_P_USB_SS3_TC1_ADMA_I2C1_SCL	0x06000020
-				SC_P_USB_SS3_TC3_ADMA_I2C1_SDA	0x06000020
+				SC_P_MIPI_DSI0_GPIO0_01_ADMA_I2C1_SDA	0x06000020
+				SC_P_MIPI_DSI0_GPIO0_01_ADMA_I2C1_SDA	0x06000020
 			>;
 		};
 
@@ -121,6 +121,45 @@
 	};
 };
 
+&i2c1 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	clock-frequency = <100000>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_lpi2c1>;
+	status = "okay";
+
+	/*
+	 * NXP SE97BTP with temperature sensor + eeprom
+	 * ATTENTION: do not use correct dt compatible since this will conflict
+	 * with hwmon sysfs ABI and break device registration
+	 */
+	sensor0: jc42@19 {
+		compatible = "jc42";
+		reg = <0x19>;
+		status = "okay";
+	};
+
+	eeprom1: 24c02@51 {
+		compatible = "atmel,24c02";
+		reg = <0x51>;
+		pagesize = <16>;
+		status = "okay";
+	};
+
+	eeprom0: m24c64@57 {
+		compatible = "st,24c64", "at24";
+		reg = <0x57>;
+		pagesize = <32>;
+		status = "okay";
+	};
+
+	rtc1: ds1339@68 {
+		compatible = "ds1339";
+		reg = <0x68>;
+	};
+};
+
 &gpio0 {
 	status = "okay";
 };
