From 18d4cd07b3300b21244ca3fa164607429b3f7413 Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Mon, 12 Aug 2019 12:41:06 +0200
Subject: [PATCH] arm64: dt: fsl-imx8mq-tqma8mq: add cpu dvfs

this patch efectively enables overdrive mode - so we are able
to use higher CPU frequencies

- add operating points
- assign regulator to A53 cluster

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi | 11 +++++++++++
 1 file changed, 11 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi
index a8b12351e332..3e10412d18f9 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi
@@ -79,6 +79,17 @@
 	};
 };
 
+&A53_0 {
+	operating-points = <
+		/* kHz    uV */
+		1500000 1000000
+		1300000 1000000
+		1000000 900000
+		800000  900000
+	>;
+	dc-supply = <&reg_tqma8mx_dvfs>;
+};
+
 &gpu {
 	status = "okay";
 };
