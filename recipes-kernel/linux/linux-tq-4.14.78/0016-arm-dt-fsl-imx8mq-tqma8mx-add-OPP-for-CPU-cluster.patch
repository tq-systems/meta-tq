From 36debf959b418124faaa18e2867df80458debc38 Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Wed, 30 Jan 2019 16:29:19 +0100
Subject: [PATCH] arm: dt: fsl-imx8mq-tqma8mx: add OPP for CPU cluster

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 .../dts/freescale/fsl-imx8mq-tqma8mq.dtsi     | 22 +++++++++++++++++++
 1 file changed, 22 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi
index 6621af7f44bf..c69e3b82279b 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8mq-tqma8mq.dtsi
@@ -34,6 +34,14 @@
 		regulator-always-on;
 	};
 
+	reg_vdd_arm: tqma8mx_vdd_arm {
+		compatible = "regulator-fixed";
+		regulator-name = "TQMA8MX_VDD_ARM";
+		regulator-min-microvolt = <900000>;
+		regulator-max-microvolt = <900000>;
+		regulator-always-on;
+	};
+
 	memory@40000000 {
 		device_type = "memory";
 		/*  our minimum RAM config will be 512 MiB */
@@ -61,6 +69,20 @@
 	};
 };
 
+&A53_0 {
+	operating-points = <
+		/* kHz    uV */
+#if 0
+		1500000 1000000
+		1300000 1000000
+#endif
+		1000000 900000
+		800000  900000
+	>;
+
+	dc-supply = <&reg_vdd_arm>;
+};
+
 &gpu {
 	status = "okay";
 };
