From c645fd21cb86b15d587af70069afaea7039cbf91 Mon Sep 17 00:00:00 2001
From: Max Merchel <Max.Merchel@tq-group.com>
Date: Mon, 21 Jan 2019 14:20:28 +0100
Subject: [PATCH 073/188] arm: dt: imx7-mba7: add i2c and i2c gpio expander

Signed-off-by: Max Merchel <Max.Merchel@tq-group.com>
---
 arch/arm/boot/dts/imx7-mba7.dtsi | 49 +++++++++++++++++++++++++++++++-
 1 file changed, 48 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/imx7-mba7.dtsi b/arch/arm/boot/dts/imx7-mba7.dtsi
index e8e8e8fc5f19..04dbf611a778 100644
--- a/arch/arm/boot/dts/imx7-mba7.dtsi
+++ b/arch/arm/boot/dts/imx7-mba7.dtsi
@@ -34,11 +34,44 @@
 	};
 };
 
+&i2c2 {
+	clock-frequency = <100000>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_i2c2>;
+	status = "okay";
+
+	gpioexp: pca9555@20 {
+		compatible = "nxp,pca9555";
+		reg = <0x20>;
+		pinctrl-names = "default";
+		pinctrl-0 = <&pinctrl_gpioexp>;
+		gpio-controller;
+		#gpio-cells = <2>;
+		interrupt-parent = <&gpio7>;
+		interrupts = <12 IRQ_TYPE_EDGE_FALLING>;
+		interrupt-controller;
+		#interrupt-cells = <2>;
+	};
+};
+
+&i2c3 {
+	clock-frequency = <100000>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_i2c3>;
+	status = "okay";
+};
+
 &iomuxc {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_hog_mba7_1>;
 
-	imx7d-mba7 {
+	imx7-mba7 {
+		pinctrl_gpioexp: pca95550grp {
+			fsl,pins = <
+				MX7D_PAD_ENET1_TX_CLK__GPIO7_IO12	0x78
+			>;
+		};
+
 		pinctrl_hog_mba7_1: hogmba71grp {
 			fsl,pins = <
 				/* #BOOT_EN */
@@ -46,6 +79,20 @@
 			>;
 		};
 
+		pinctrl_i2c2: i2c2grp {
+			fsl,pins = <
+				MX7D_PAD_I2C2_SCL__I2C2_SCL		0x40000078
+				MX7D_PAD_I2C2_SDA__I2C2_SDA		0x40000078
+			>;
+		};
+
+		pinctrl_i2c3: i2c3grp {
+			fsl,pins = <
+				MX7D_PAD_I2C3_SCL__I2C3_SCL		0x40000078
+				MX7D_PAD_I2C3_SDA__I2C3_SDA		0x40000078
+			>;
+		};
+
 		pinctrl_uart6: uart6grp {
 			fsl,pins = <
 				MX7D_PAD_EPDC_DATA08__UART6_DCE_RX	0x7d
