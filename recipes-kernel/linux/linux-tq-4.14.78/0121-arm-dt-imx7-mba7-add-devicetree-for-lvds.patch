From 660e9e2a03bfb4e23939d2afb45811dcfbe97f59 Mon Sep 17 00:00:00 2001
From: Max Merchel <Max.Merchel@tq-group.com>
Date: Mon, 4 Feb 2019 10:31:18 +0100
Subject: [PATCH 121/188] arm: dt: imx7-mba7: add devicetree for lvds

Signed-off-by: Max Merchel <Max.Merchel@tq-group.com>
---
 arch/arm/boot/dts/imx7-mba7-lvds.dtsi | 49 +++++++++++++++++++++++++++
 arch/arm/boot/dts/imx7d-mba7-lvds.dts |  9 +++++
 arch/arm/boot/dts/imx7s-mba7-lvds.dts |  9 +++++
 3 files changed, 67 insertions(+)
 create mode 100644 arch/arm/boot/dts/imx7-mba7-lvds.dtsi
 create mode 100644 arch/arm/boot/dts/imx7d-mba7-lvds.dts
 create mode 100644 arch/arm/boot/dts/imx7s-mba7-lvds.dts

diff --git a/arch/arm/boot/dts/imx7-mba7-lvds.dtsi b/arch/arm/boot/dts/imx7-mba7-lvds.dtsi
new file mode 100644
index 000000000000..11994461cd55
--- /dev/null
+++ b/arch/arm/boot/dts/imx7-mba7-lvds.dtsi
@@ -0,0 +1,49 @@
+// SPDX-License-Identifier: GPL-2.0+ OR MIT
+/*
+ * Copyright (C) 2015 - 2019 TQ Systems GmbH
+ * Author: Markus Niebel <Markus.Niebel@tq-group.com>
+ */
+
+/ {
+	display_lvds: display {
+		bits-per-pixel = <32>; /* 32: RGB888/666 mode */
+		bus-width = <24>;
+
+		display-timings {
+			tianma_tm070jvhg33: tianma_tm070jvhg33 {
+				clock-frequency = <62600000 68200000 78100000>;
+				hactive = <1280 1280 1280>;
+				vactive = <800 800 800>;
+				hfront-porch = <15 64 159>;
+				hback-porch = <5 5 5>;
+				hsync-len = <1 1 256>;
+				vback-porch = <2 2 2>;
+				vfront-porch = <3 40 99>;
+				vsync-len = <1 1 128>;
+				de-active = <1>;
+			};
+		};
+	};
+};
+
+&backlight {
+	pwms = <&pwm1 0 62500 0>;
+	brightness-levels = <0 16 32 64 96 128 160 192 224 255>;
+	default-brightness-level = <5>;
+	status = "okay";
+};
+
+&lcdif {
+	display = <&display_lvds>;
+	lcd-supply = <&reg_lvds_transmitter>;/* not used?*/
+	status = "okay";
+};
+
+&pwm1 {
+	status = "okay";
+};
+
+&reg_lvds_transmitter {
+	/*regulator-always-on;*/ /*TEST*/
+	status = "okay";
+};
diff --git a/arch/arm/boot/dts/imx7d-mba7-lvds.dts b/arch/arm/boot/dts/imx7d-mba7-lvds.dts
new file mode 100644
index 000000000000..b33149f62aeb
--- /dev/null
+++ b/arch/arm/boot/dts/imx7d-mba7-lvds.dts
@@ -0,0 +1,9 @@
+// SPDX-License-Identifier: GPL-2.0+ OR MIT
+/*
+ * Copyright (C) 2015 - 2019 TQ Systems GmbH
+ * Author: Markus Niebel <Markus.Niebel@tq-group.com>
+ */
+
+#include "imx7d-mba7.dts"
+#include "imx7-mba7-lcdif.dtsi"
+#include "imx7-mba7-lvds.dtsi"
diff --git a/arch/arm/boot/dts/imx7s-mba7-lvds.dts b/arch/arm/boot/dts/imx7s-mba7-lvds.dts
new file mode 100644
index 000000000000..65dbad330f44
--- /dev/null
+++ b/arch/arm/boot/dts/imx7s-mba7-lvds.dts
@@ -0,0 +1,9 @@
+// SPDX-License-Identifier: GPL-2.0+ OR MIT
+/*
+ * Copyright (C) 2015 - 2019 TQ Systems GmbH
+ * Author: Markus Niebel <Markus.Niebel@tq-group.com>
+ */
+
+#include "imx7s-mba7.dts"
+#include "imx7-mba7-lcdif.dtsi"
+#include "imx7-mba7-lvds.dtsi"
