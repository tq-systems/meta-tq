From 533b284b32dc36087525bd153eff93dee2fa8265 Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Tue, 14 May 2019 16:35:00 +0200
Subject: [PATCH] arm64: dt: mbpa8xx-common: enable USB host support

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 arch/arm64/boot/dts/freescale/mbpa8xx-common.dtsi | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/mbpa8xx-common.dtsi b/arch/arm64/boot/dts/freescale/mbpa8xx-common.dtsi
index e284320ab3fd..a1d452dc947f 100644
--- a/arch/arm64/boot/dts/freescale/mbpa8xx-common.dtsi
+++ b/arch/arm64/boot/dts/freescale/mbpa8xx-common.dtsi
@@ -157,6 +157,13 @@
 			>;
 		};
 
+		pinctrl_usbotg2: usbotg2grp {
+			fsl,pins = <
+				SC_P_USB_SS3_TC1_CONN_USB_OTG2_PWR	0x06000020
+				SC_P_USB_SS3_TC3_CONN_USB_OTG2_OC	0x06000020
+			>;
+		};
+
 		pinctrl_usdhc2_gpio: usdhc2gpiogrp {
 			fsl,pins = <
 				SC_P_USDHC1_RESET_B_LSIO_GPIO4_IO19	0x06000021
@@ -269,6 +276,13 @@
 	status = "okay";
 };
 
+&usbotg3 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_usbotg2>;
+	dr_mode = "host";
+	status = "okay";
+};
+
 &usdhc2 {
 	pinctrl-names = "default", "state_100mhz", "state_200mhz";
 	pinctrl-0 = <&pinctrl_usdhc2>, <&pinctrl_usdhc2_gpio>;
