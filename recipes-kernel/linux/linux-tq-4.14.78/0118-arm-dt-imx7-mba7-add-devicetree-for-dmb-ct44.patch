From a66be1273a73310ac4d1357c3830d56d06d2ce90 Mon Sep 17 00:00:00 2001
From: Max Merchel <Max.Merchel@tq-group.com>
Date: Mon, 4 Feb 2019 10:06:03 +0100
Subject: [PATCH 118/188] arm: dt: imx7-mba7: add devicetree for dmb ct44

Signed-off-by: Max Merchel <Max.Merchel@tq-group.com>
---
 arch/arm/boot/dts/imx7-mba7-dmb-ct44.dtsi | 58 +++++++++++++++++++++++
 arch/arm/boot/dts/imx7d-mba7-dmb-ct44.dts | 10 ++++
 arch/arm/boot/dts/imx7s-mba7-dmb-ct44.dts | 10 ++++
 3 files changed, 78 insertions(+)
 create mode 100644 arch/arm/boot/dts/imx7-mba7-dmb-ct44.dtsi
 create mode 100644 arch/arm/boot/dts/imx7d-mba7-dmb-ct44.dts
 create mode 100644 arch/arm/boot/dts/imx7s-mba7-dmb-ct44.dts

diff --git a/arch/arm/boot/dts/imx7-mba7-dmb-ct44.dtsi b/arch/arm/boot/dts/imx7-mba7-dmb-ct44.dtsi
new file mode 100644
index 000000000000..9bfde8eae1ac
--- /dev/null
+++ b/arch/arm/boot/dts/imx7-mba7-dmb-ct44.dtsi
@@ -0,0 +1,58 @@
+// SPDX-License-Identifier: GPL-2.0+ OR MIT
+/*
+ * Copyright (C) 2016 - 2019 TQ Systems GmbH
+ * Author: Marco Felsch
+ * Author: Markus Niebel <Markus.Niebel@tq-group.com>
+ */
+
+/ {
+	/* compatible:
+	 * S070WV106H-CT44 v1.0 2017/02/21
+	 * S070SWV29HG-DC44 v 3.0 2017/02/21
+	 * Truecolor FB needed - pin config on display adapter
+	 */
+	display_ct44: display {
+		bits-per-pixel = <32>; /* 32: RGB888/666 mode */
+		bus-width = <18>;
+
+		display-timings {
+			native-mode = <&timing1>;
+			timing1: 800x480p62 {
+				clock-frequency = <26300000 33300000 46800000>;
+				hactive = <800>;
+				vactive = <480>;
+				hfront-porch = <210>;
+				hsync-len = <2>;
+				hback-porch = <44>;
+				vfront-porch = <22>;
+				vsync-len = <2>;
+				vback-porch = <21>;
+				hsync-active = <0>;
+				vsync-active = <0>;
+				de-active = <1>;
+				pixelclk-active = <0>;
+			};
+		};
+	};
+};
+
+&backlight {
+	pwms = <&pwm1 0 20000 0>; /* 50 kHz */
+	brightness-levels = <0 1 4 8 16 32 64 128 255>;
+	default-brightness-level = <8>;
+	status = "okay";
+};
+
+&lcdif {
+	display = <&display_ct44>;
+	status = "okay";
+};
+
+&polytouch {
+	gain = <20>;
+
+	touchscreen-size-x = <800>;
+	touchscreen-size-y = <480>;
+
+	status = "okay";
+};
diff --git a/arch/arm/boot/dts/imx7d-mba7-dmb-ct44.dts b/arch/arm/boot/dts/imx7d-mba7-dmb-ct44.dts
new file mode 100644
index 000000000000..eb75b4170767
--- /dev/null
+++ b/arch/arm/boot/dts/imx7d-mba7-dmb-ct44.dts
@@ -0,0 +1,10 @@
+// SPDX-License-Identifier: GPL-2.0+ OR MIT
+/*
+ * Copyright (C) 2016 - 2019 TQ Systems GmbH
+ * Author: Marco Felsch
+ * Author: Markus Niebel <Markus.Niebel@tq-group.com>
+ */
+
+#include "imx7d-mba7.dts"
+#include "imx7-mba7-lcdif.dtsi"
+#include "imx7-mba7-dmb-ct44.dtsi"
diff --git a/arch/arm/boot/dts/imx7s-mba7-dmb-ct44.dts b/arch/arm/boot/dts/imx7s-mba7-dmb-ct44.dts
new file mode 100644
index 000000000000..bab32fddafa3
--- /dev/null
+++ b/arch/arm/boot/dts/imx7s-mba7-dmb-ct44.dts
@@ -0,0 +1,10 @@
+// SPDX-License-Identifier: GPL-2.0+ OR MIT
+/*
+ * Copyright (C) 2016 - 2019 TQ Systems GmbH
+ * Author: Marco Felsch
+ * Author: Markus Niebel <Markus.Niebel@tq-group.com>
+ */
+
+#include "imx7s-mba7.dts"
+#include "imx7-mba7-lcdif.dtsi"
+#include "imx7-mba7-dmb-ct44.dtsi"
