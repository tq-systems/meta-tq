From 56ef130557087cceec0599128bc82a904b7655c4 Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Mon, 13 May 2019 13:24:47 +0200
Subject: [PATCH] boards: tqma8xx: add initial support for MBpa8Xx

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 arch/arm/dts/Makefile                         |   1 +
 arch/arm/dts/fsl-imx8qxp-tqma8xqp-mbpa8xx.dts | 173 ++++++++++++++++++
 board/tqc/tqma8xx/Kconfig                     |  11 ++
 board/tqc/tqma8xx/Makefile                    |   1 +
 board/tqc/tqma8xx/tqma8xx-mbpa8xx.c           | 141 ++++++++++++++
 configs/tqma8xqp_mbpa8xx_mmc_defconfig        |  59 ++++++
 include/configs/tqma8xx-mbpa8xx.h             |  26 +++
 include/configs/tqma8xx.h                     |   2 +
 8 files changed, 414 insertions(+)
 create mode 100644 arch/arm/dts/fsl-imx8qxp-tqma8xqp-mbpa8xx.dts
 create mode 100644 board/tqc/tqma8xx/tqma8xx-mbpa8xx.c
 create mode 100644 configs/tqma8xqp_mbpa8xx_mmc_defconfig
 create mode 100644 include/configs/tqma8xx-mbpa8xx.h

diff --git a/arch/arm/dts/Makefile b/arch/arm/dts/Makefile
index d83e92578c..efe915bbd4 100644
--- a/arch/arm/dts/Makefile
+++ b/arch/arm/dts/Makefile
@@ -481,6 +481,7 @@ dtb-$(CONFIG_ARCH_IMX8) += fsl-imx8dx-ddr3-arm2.dtb \
 		fsl-imx8qxp-lpddr4-arm2.dtb \
 		fsl-imx8qxp-mek.dtb \
 		fsl-imx8qxp-tqma8xqp-mba8xx.dtb \
+		fsl-imx8qxp-tqma8xqp-mbpa8xx.dtb \
 		fsl-imx8qxp-tqma8xqps-mb-smarc-2.dtb
 
 dtb-$(CONFIG_RCAR_GEN3) += \
diff --git a/arch/arm/dts/fsl-imx8qxp-tqma8xqp-mbpa8xx.dts b/arch/arm/dts/fsl-imx8qxp-tqma8xqp-mbpa8xx.dts
new file mode 100644
index 0000000000..9be653fbe1
--- /dev/null
+++ b/arch/arm/dts/fsl-imx8qxp-tqma8xqp-mbpa8xx.dts
@@ -0,0 +1,173 @@
+/*
+ * Copyright 2019 TQ Systems GmbH
+ * Markus Niebel
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ */
+
+/dts-v1/;
+
+#include "fsl-imx8qxp-tqma8xqp.dtsi"
+#include <dt-bindings/net/ti-dp83867.h>
+
+/ {
+	model = "TQ Systems i.MX8QXP TQMa8XQP on MBpa8Xx";
+	compatible = "tq,tqma8xqp-mbpa8xx", "tq,tqma8xqp", "fsl,imx8qxp";
+
+	chosen {
+		bootargs = "console=ttyLP1,115200 earlycon=lpuart32,0x5a070000,115200";
+		stdout-path = &lpuart1;
+	};
+
+	reg_mbpa8xx_3v3: mbpa8xx_3v3 {
+		compatible = "regulator-fixed";
+		regulator-name = "SD1_SPWR";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		status = "okay";
+	};
+};
+
+&iomuxc {
+	tqma8xx-mbpa8xx {
+		pinctrl_lpuart1: lpuart1grp {
+			fsl,pins = <
+				SC_P_UART1_RX_ADMA_UART1_RX	0x06000020
+				SC_P_UART1_TX_ADMA_UART1_TX	0x06000020
+			>;
+		};
+
+		pinctrl_fec1: fec1grp {
+			fsl,pins = <
+				SC_P_ENET0_MDC_CONN_ENET0_MDC			0x06000048
+				SC_P_ENET0_MDIO_CONN_ENET0_MDIO			0x06000048
+				SC_P_ENET0_RGMII_TX_CTL_CONN_ENET0_RGMII_TX_CTL	0x06000048
+				SC_P_ENET0_RGMII_TXC_CONN_ENET0_RGMII_TXC	0x06000048
+				SC_P_ENET0_RGMII_TXD0_CONN_ENET0_RGMII_TXD0	0x06000048
+				SC_P_ENET0_RGMII_TXD1_CONN_ENET0_RGMII_TXD1	0x06000048
+				SC_P_ENET0_RGMII_TXD2_CONN_ENET0_RGMII_TXD2	0x06000048
+				SC_P_ENET0_RGMII_TXD3_CONN_ENET0_RGMII_TXD3	0x06000048
+				SC_P_ENET0_RGMII_RXC_CONN_ENET0_RGMII_RXC	0x06000048
+				SC_P_ENET0_RGMII_RX_CTL_CONN_ENET0_RGMII_RX_CTL	0x06000048
+				SC_P_ENET0_RGMII_RXD0_CONN_ENET0_RGMII_RXD0	0x06000048
+				SC_P_ENET0_RGMII_RXD1_CONN_ENET0_RGMII_RXD1	0x06000048
+				SC_P_ENET0_RGMII_RXD2_CONN_ENET0_RGMII_RXD2	0x06000048
+				SC_P_ENET0_RGMII_RXD3_CONN_ENET0_RGMII_RXD3	0x06000048
+
+				SC_P_CSI_EN_LSIO_GPIO3_IO02			0x06000048
+			>;
+		};
+
+		pinctrl_hog: mba8qxhoggrp {
+			fsl,pins = <
+				SC_P_CSI_RESET_LSIO_GPIO3_IO03			0x06000048
+				SC_P_MIPI_CSI0_I2C0_SCL_LSIO_GPIO3_IO05		0x06000048
+				SC_P_MIPI_CSI0_I2C0_SDA_LSIO_GPIO3_IO06		0x06000048
+				SC_P_MIPI_CSI0_GPIO0_01_LSIO_GPIO3_IO07		0x06000048
+			>;
+		};
+
+		pinctrl_usbotg1: usbotg1grp {
+			fsl,pins = <
+				SC_P_USB_SS3_TC0_CONN_USB_OTG1_PWR	0x06000020
+				SC_P_USB_SS3_TC2_CONN_USB_OTG1_OC	0x06000020
+			>;
+		};
+
+		pinctrl_usdhc2_gpio: usdhc2gpiogrp {
+			fsl,pins = <
+				SC_P_USDHC1_RESET_B_LSIO_GPIO4_IO19	0x06000021
+				SC_P_USDHC1_WP_LSIO_GPIO4_IO21		0x06000021
+				SC_P_USDHC1_CD_B_LSIO_GPIO4_IO22	0x06000021
+			>;
+		};
+
+		pinctrl_usdhc2: usdhc2grp {
+			fsl,pins = <
+				SC_P_USDHC1_CLK_CONN_USDHC1_CLK		0x06000041
+				SC_P_USDHC1_CMD_CONN_USDHC1_CMD		0x06000021
+				SC_P_USDHC1_DATA0_CONN_USDHC1_DATA0	0x06000021
+				SC_P_USDHC1_DATA1_CONN_USDHC1_DATA1	0x06000021
+				SC_P_USDHC1_DATA2_CONN_USDHC1_DATA2	0x06000021
+				SC_P_USDHC1_DATA3_CONN_USDHC1_DATA3	0x06000021
+				SC_P_USDHC1_VSELECT_CONN_USDHC1_VSELECT	0x06000021
+			>;
+		};
+
+		pinctrl_usdhc2_100mhz: usdhc2grp100mhz {
+			fsl,pins = <
+				SC_P_USDHC1_CLK_CONN_USDHC1_CLK		0x06000040
+				SC_P_USDHC1_CMD_CONN_USDHC1_CMD		0x06000020
+				SC_P_USDHC1_DATA0_CONN_USDHC1_DATA0	0x06000020
+				SC_P_USDHC1_DATA1_CONN_USDHC1_DATA1	0x06000020
+				SC_P_USDHC1_DATA2_CONN_USDHC1_DATA2	0x06000020
+				SC_P_USDHC1_DATA3_CONN_USDHC1_DATA3	0x06000020
+				SC_P_USDHC1_VSELECT_CONN_USDHC1_VSELECT	0x06000020
+			>;
+		};
+
+		pinctrl_usdhc2_200mhz: usdhc2grp200mhz {
+			fsl,pins = <
+				SC_P_USDHC1_CLK_CONN_USDHC1_CLK		0x06000040
+				SC_P_USDHC1_CMD_CONN_USDHC1_CMD		0x06000020
+				SC_P_USDHC1_DATA0_CONN_USDHC1_DATA0	0x06000020
+				SC_P_USDHC1_DATA1_CONN_USDHC1_DATA1	0x06000020
+				SC_P_USDHC1_DATA2_CONN_USDHC1_DATA2	0x06000020
+				SC_P_USDHC1_DATA3_CONN_USDHC1_DATA3	0x06000020
+				SC_P_USDHC1_VSELECT_CONN_USDHC1_VSELECT	0x06000020
+			>;
+		};
+	};
+};
+
+&fec1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_fec1>;
+	phy-mode = "rgmii-id";
+	phy-handle = <&ethphy0>;
+	phy-reset-gpios = <&gpio3 2 GPIO_ACTIVE_LOW>;
+	phy-reset-duration = <500>;
+	fsl,magic-packet;
+	status = "okay";
+
+	mdio {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		ethphy0: ethernet-phy@0 {
+			compatible = "ethernet-phy-ieee802.3-c22";
+			reg = <0>;
+			ti,rx-internal-delay = <DP83867_RGMIIDCTL_2_25_NS>;
+			ti,tx-internal-delay = <DP83867_RGMIIDCTL_2_25_NS>;
+			ti,dp83867-rxctrl-strap-quirk;
+			ti,led-function = <0xc100>; /* LED1: Link, LED2: activity */
+			ti,led-ctrl = <0x1001>;     /* active low, LED1/2 driven by phy */
+		};
+	};
+};
+
+&lpuart1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_lpuart1>;
+	status = "okay";
+};
+
+&usdhc2 {
+	pinctrl-names = "default", "state_100mhz", "state_200mhz";
+	pinctrl-0 = <&pinctrl_usdhc2>, <&pinctrl_usdhc2_gpio>;
+	pinctrl-1 = <&pinctrl_usdhc2_100mhz>, <&pinctrl_usdhc2_gpio>;
+	pinctrl-2 = <&pinctrl_usdhc2_200mhz>, <&pinctrl_usdhc2_gpio>;
+	bus-width = <4>;
+	cd-gpios = <&gpio4 22 GPIO_ACTIVE_LOW>;
+	wp-gpios = <&gpio4 21 GPIO_ACTIVE_HIGH>;
+	vmmc-supply = <&reg_mbpa8xx_3v3>;
+	status = "okay";
+};
diff --git a/board/tqc/tqma8xx/Kconfig b/board/tqc/tqma8xx/Kconfig
index e54901cf0b..3ad0b91479 100644
--- a/board/tqc/tqma8xx/Kconfig
+++ b/board/tqc/tqma8xx/Kconfig
@@ -65,15 +65,26 @@ config TQMA8XX_BB_MBA8XX
 	  Select the MBa8Xx starterkit. This features a GigE Phy, USB, SD-Card
 	  etc.
 
+config TQMA8XX_BB_MBPA8XX
+	bool "TQMa8Xx on MBpa8Xx board"
+	select TQMA8XX_CPU_MX8QXP
+	select TQC_SDMMC
+	select DM_ETH
+	help
+	  Select the MBpa8xX board. This features a GigE Phy, USB, SD-Card
+	  etc.
+
 endchoice
 
 config DEFAULT_DEVICE_TREE
 	default "fsl-imx8dx-tqma8xd-mba8xx" if TQMA8XX_CPU_MX8DX && TQMA8XX_BB_MBA8XX
 	default "fsl-imx8qxp-tqma8xqp-mba8xx" if TQMA8XX_CPU_MX8QXP && TQMA8XX_BB_MBA8XX
+	default "fsl-imx8qxp-tqma8xqp-mbpa8xx" if TQMA8XX_CPU_MX8QXP && TQMA8XX_BB_MBPA8XX
 
 config DEFAULT_FDT_FILE
 	default "fsl-imx8dx-tqma8xd-mba8xx.dtb" if TQMA8XX_CPU_MX8DX && TQMA8XX_BB_MBA8XX
 	default "fsl-imx8qxp-tqma8xqp-mba8xx.dtb" if TQMA8XX_CPU_MX8QXP && TQMA8XX_BB_MBA8XX
+	default "fsl-imx8qxp-tqma8xqp-mbpa8xx.dtb" if TQMA8XX_CPU_MX8QXP && TQMA8XX_BB_MBPA8XX
 
 choice
 	prompt "TQMa8Xx boot device"
diff --git a/board/tqc/tqma8xx/Makefile b/board/tqc/tqma8xx/Makefile
index 8051e72da4..c3ecc4985d 100644
--- a/board/tqc/tqma8xx/Makefile
+++ b/board/tqc/tqma8xx/Makefile
@@ -6,3 +6,4 @@
 
 obj-y += tqma8xx.o
 obj-$(CONFIG_TQMA8XX_BB_MBA8XX) += tqma8xx-mba8xx.o
+obj-$(CONFIG_TQMA8XX_BB_MBPA8XX) += tqma8xx-mbpa8xx.o
diff --git a/board/tqc/tqma8xx/tqma8xx-mbpa8xx.c b/board/tqc/tqma8xx/tqma8xx-mbpa8xx.c
new file mode 100644
index 0000000000..f975dc3553
--- /dev/null
+++ b/board/tqc/tqma8xx/tqma8xx-mbpa8xx.c
@@ -0,0 +1,141 @@
+/*
+ * Copyright 2019 TQ Systems GmbH
+ * Markus Niebel
+ *
+ * SPDX-License-Identifier:	GPL-2.0+
+ */
+#include <common.h>
+#include <dm.h>
+#include <environment.h>
+#include <errno.h>
+#include <fdt_support.h>
+#include <fsl_esdhc.h>
+#include <fsl_ifc.h>
+#include <linux/libfdt.h>
+#include <malloc.h>
+#include <netdev.h>
+#include <power-domain.h>
+
+#include <asm/gpio.h>
+#include <asm/io.h>
+#include <asm/arch/clock.h>
+#include <asm/mach-imx/sci/sci.h>
+#include <asm/arch/imx8-pins.h>
+#include <asm/arch/iomux.h>
+#include <asm/arch/lpcg.h>
+#include <asm/arch/sys_proto.h>
+#include <power-domain.h>
+
+#include "../common/tqc_bb.h"
+#include "../common/tqc_eeprom.h"
+
+
+DECLARE_GLOBAL_DATA_PTR;
+
+#define MBPA8XX_BOARD_NAME "MBpa8Xx"
+
+#define FSPI_PAD_CTRL	((SC_PAD_CONFIG_NORMAL << PADRING_CONFIG_SHIFT) | (SC_PAD_ISO_OFF << PADRING_LPCONFIG_SHIFT) \
+						| (SC_PAD_28FDSOI_DSE_DV_HIGH << PADRING_DSE_SHIFT) | (SC_PAD_28FDSOI_PS_PU << PADRING_PULL_SHIFT))
+
+#define UART_PAD_CTRL	((SC_PAD_CONFIG_OUT_IN << PADRING_CONFIG_SHIFT) | (SC_PAD_ISO_OFF << PADRING_LPCONFIG_SHIFT) \
+						| (SC_PAD_28FDSOI_DSE_DV_HIGH << PADRING_DSE_SHIFT) | (SC_PAD_28FDSOI_PS_PU << PADRING_PULL_SHIFT))
+
+static iomux_cfg_t uart1_pads[] = {
+	SC_P_UART1_RX | MUX_MODE_ALT(0) | MUX_PAD_CTRL(UART_PAD_CTRL),
+	SC_P_UART1_TX | MUX_MODE_ALT(0) | MUX_PAD_CTRL(UART_PAD_CTRL),
+};
+
+static void setup_iomux_uart(void)
+{
+	imx8_iomux_setup_multiple_pads(uart1_pads, ARRAY_SIZE(uart1_pads));
+}
+
+int tqc_bb_board_early_init_f(void)
+{
+	sc_ipc_t ipcHndl = 0;
+	sc_err_t sciErr = 0;
+
+	ipcHndl = gd->arch.ipc_channel_handle;
+
+	/* Power up UART1 */
+	sciErr = sc_pm_set_resource_power_mode(ipcHndl, SC_R_UART_1, SC_PM_PW_MODE_ON);
+	if (sciErr != SC_ERR_NONE)
+		return 0;
+
+	/* Set UART1 clock root to 80 MHz */
+	sc_pm_clock_rate_t rate = 80000000;
+	sciErr = sc_pm_set_clock_rate(ipcHndl, SC_R_UART_1, 2, &rate);
+	if (sciErr != SC_ERR_NONE)
+		return 0;
+
+	/* Enable UART1 clock root */
+	sciErr = sc_pm_clock_enable(ipcHndl, SC_R_UART_1, 2, true, false);
+	if (sciErr != SC_ERR_NONE)
+		return 0;
+
+	LPCG_AllClockOn(LPUART_1_LPCG);
+
+	setup_iomux_uart();
+
+	return 0;
+}
+
+int tqc_bb_checkboard(void)
+{
+	puts("Board: " TQMA8_BOARD_NAME " on " MBPA8XX_BOARD_NAME " (" TQMA8_BOARD_REV ")\n");
+
+	return 0;
+}
+
+int tqc_bb_board_init(void)
+{
+	return 0;
+}
+
+#ifdef CONFIG_OF_BOARD_SETUP
+int tqc_bb_ft_board_setup(void *blob, bd_t *bd)
+{
+	return 0;
+}
+#endif
+
+/*
+ * SD0 -> mmc0 / mmcblk0
+ * SD1 -> mmc1 / mmcblk1
+ */
+int board_mmc_get_env_dev(int devno)
+{
+	return devno;
+}
+
+int mmc_map_to_kernel_blk(int dev_no)
+{
+	return dev_no;
+}
+
+int tqc_bb_board_late_init(void)
+{
+#ifdef CONFIG_ENV_VARS_UBOOT_RUNTIME_CONFIG
+	env_set("board_name", MBPA8XX_BOARD_NAME);
+	env_set("board_rev", "iMX8QXP");
+#endif
+
+#ifdef CONFIG_ENV_IS_IN_MMC
+	board_late_mmc_env_init();
+#endif
+
+	return 0;
+}
+
+void board_quiesce_devices()
+{
+	const char *power_on_devices[] = {
+		"dma_lpuart1",
+
+		/* HIFI DSP boot */
+		"audio_sai0",
+		"audio_ocram",
+	};
+
+	power_off_pd_devices(power_on_devices, ARRAY_SIZE(power_on_devices));
+}
diff --git a/configs/tqma8xqp_mbpa8xx_mmc_defconfig b/configs/tqma8xqp_mbpa8xx_mmc_defconfig
new file mode 100644
index 0000000000..9e3448c74c
--- /dev/null
+++ b/configs/tqma8xqp_mbpa8xx_mmc_defconfig
@@ -0,0 +1,59 @@
+CONFIG_ARM=y
+CONFIG_ARCH_IMX8=y
+CONFIG_SYS_TEXT_BASE=0x80020000
+CONFIG_SYS_MALLOC_F_LEN=0x2000
+CONFIG_SMC_FUSE=y
+CONFIG_TARGET_TQMA8XX=y
+CONFIG_TQMA8XX_BB_MBPA8XX=y
+CONFIG_IMX_BOOTAUX=y
+CONFIG_DISTRO_DEFAULTS=y
+CONFIG_BOOTDELAY=3
+CONFIG_BOOTCOMMAND="run mmcboot"
+CONFIG_VERSION_VARIABLE=y
+CONFIG_CMD_LICENSE=y
+CONFIG_CMD_GREPENV=y
+CONFIG_CMD_MEMINFO=y
+# CONFIG_CMD_FLASH is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_GPT=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADB is not set
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MMC=y
+CONFIG_CMD_SF=y
+CONFIG_CMD_USB=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_EXT4_WRITE=y
+# CONFIG_ISO_PARTITION is not set
+CONFIG_DM_PCA953X=y
+CONFIG_DM_I2C=y
+CONFIG_DM_I2C_COMPAT=y
+CONFIG_SYS_I2C_IMX_LPI2C=y
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_MMC_IO_VOLTAGE=y
+CONFIG_MMC_UHS_SUPPORT=y
+CONFIG_MMC_HS400_ES_SUPPORT=y
+CONFIG_MMC_HS400_SUPPORT=y
+CONFIG_SPL_MMC_HS200_SUPPORT=y
+CONFIG_FSL_ESDHC=y
+# CONFIG_SPI_FLASH_USE_4K_SECTORS is not set
+CONFIG_PHYLIB=y
+CONFIG_PHY_TI=y
+CONFIG_PHY_GIGE=y
+CONFIG_POWER_DOMAIN=y
+CONFIG_IMX8_POWER_DOMAIN=y
+CONFIG_DM_REGULATOR=y
+CONFIG_DM_REGULATOR_FIXED=y
+CONFIG_DM_REGULATOR_GPIO=y
+CONFIG_DM_RTC=y
+CONFIG_RTC_DS1307=y
+CONFIG_DM_THERMAL=y
+CONFIG_IMX_SC_THERMAL=y
+CONFIG_USB=y
+CONFIG_DM_USB=y
+CONFIG_USB_EHCI_HCD=y
+CONFIG_MXC_USB_OTG_HACTIVE=y
+CONFIG_USB_STORAGE=y
+CONFIG_FAT_WRITE=y
+# CONFIG_EFI_LOADER is not set
diff --git a/include/configs/tqma8xx-mbpa8xx.h b/include/configs/tqma8xx-mbpa8xx.h
new file mode 100644
index 0000000000..ff00ccda7c
--- /dev/null
+++ b/include/configs/tqma8xx-mbpa8xx.h
@@ -0,0 +1,26 @@
+/*
+ * Copyright 2019 TQ Systems GmbH
+ *
+ * SPDX-License-Identifier:	GPL-2.0+
+ */
+
+#if !defined(__TQMA8XX_MBPA8XX_H)
+#define __TQMA8XX_MBPA8XX_H
+
+#define CONFIG_FEC_MXC
+#define CONFIG_FEC_XCV_TYPE		RGMII
+#define FEC_QUIRK_ENET_MAC
+
+#define CONFIG_MII
+
+#define MX8QX_FEC1_BASE			0x5B040000U
+#define MX8QX_FEC2_BASE			0x5B050000U
+#define CONFIG_FEC_MXC_MDIO_BASE	MX8QX_FEC1_BASE
+
+#define CONFIG_FEC_MXC_PHYADDR		0x1F
+
+#define BB_ENV_SETTINGS \
+	"console=ttyLP1,115200 earlycon=lpuart32,5a070000,115200\0" \
+	"fdt_file=" CONFIG_DEFAULT_FDT_FILE "\0"
+
+#endif /* __TQMA8XX_MBPA8XX_H */
diff --git a/include/configs/tqma8xx.h b/include/configs/tqma8xx.h
index 58c7482127..d66497342c 100644
--- a/include/configs/tqma8xx.h
+++ b/include/configs/tqma8xx.h
@@ -381,6 +381,8 @@
 
 #if defined(CONFIG_TQMA8XX_BB_MBA8XX)
 #include "tqma8xx-mba8xx.h"
+#elif defined(CONFIG_TQMA8XX_BB_MBPA8XX)
+#include "tqma8xx-mbpa8xx.h"
 #else
 #error
 #endif
