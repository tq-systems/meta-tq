From cdf57a9203db8207ab8cfa26f1f715945deb5ce6 Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Thu, 25 Oct 2018 11:53:21 +0200
Subject: [PATCH] tqma8qx: enable usb in dt

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 arch/arm/dts/fsl-imx8qxp-tqma8qx-mba8qx.dts | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

diff --git a/arch/arm/dts/fsl-imx8qxp-tqma8qx-mba8qx.dts b/arch/arm/dts/fsl-imx8qxp-tqma8qx-mba8qx.dts
index 7eba726e30..bbccd7c812 100644
--- a/arch/arm/dts/fsl-imx8qxp-tqma8qx-mba8qx.dts
+++ b/arch/arm/dts/fsl-imx8qxp-tqma8qx-mba8qx.dts
@@ -145,6 +145,13 @@
 				SC_P_USDHC1_VSELECT_CONN_USDHC1_VSELECT	0x06000020
 			>;
 		};
+
+		pinctrl_usbotg1: usbotg1grp {
+			fsl,pins = <
+				SC_P_USB_SS3_TC0_CONN_USB_OTG1_PWR	0x06000020
+				SC_P_USB_SS3_TC2_CONN_USB_OTG1_OC	0x06000020
+			>;
+		};
 	};
 };
 
@@ -215,12 +222,15 @@
 };
 
 &usbotg1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_usbotg1>;
 	srp-disable;
 	hnp-disable;
 	adp-disable;
 	power-polarity-active-high;
 	disable-over-current;
-	status = "disabled";
+	dr_mode = "host";
+	status = "okay";
 };
 
 &usb2 {
