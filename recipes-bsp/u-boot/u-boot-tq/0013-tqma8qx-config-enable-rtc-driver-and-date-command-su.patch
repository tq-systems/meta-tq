From 02f5556112884d451a1ee108485fd531c662714c Mon Sep 17 00:00:00 2001
From: Markus Niebel <Markus.Niebel@tq-group.com>
Date: Thu, 25 Oct 2018 12:35:10 +0200
Subject: [PATCH] tqma8qx: config: enable rtc driver and date command support

Signed-off-by: Markus Niebel <Markus.Niebel@tq-group.com>
---
 configs/tqma8qx_mba8qx_mmc_defconfig | 2 ++
 include/configs/tqma8qx.h            | 2 ++
 2 files changed, 4 insertions(+)

diff --git a/configs/tqma8qx_mba8qx_mmc_defconfig b/configs/tqma8qx_mba8qx_mmc_defconfig
index f89f7a6e2d..8a32f2c2fc 100644
--- a/configs/tqma8qx_mba8qx_mmc_defconfig
+++ b/configs/tqma8qx_mba8qx_mmc_defconfig
@@ -47,6 +47,8 @@ CONFIG_IMX8_POWER_DOMAIN=y
 CONFIG_DM_REGULATOR=y
 CONFIG_DM_REGULATOR_FIXED=y
 CONFIG_DM_REGULATOR_GPIO=y
+CONFIG_DM_RTC=y
+CONFIG_RTC_DS1307=y
 CONFIG_DM_SERIAL=y
 CONFIG_FSL_LPUART=y
 CONFIG_DM_SPI=y
diff --git a/include/configs/tqma8qx.h b/include/configs/tqma8qx.h
index df125ae325..e828f96fb6 100644
--- a/include/configs/tqma8qx.h
+++ b/include/configs/tqma8qx.h
@@ -44,6 +44,8 @@
 #endif
 #endif /* CONFIG_CMD_USB */
 
+#define CONFIG_CMD_DATE
+
 #define CONFIG_ENV_OVERWRITE
 
 #define CONFIG_ENV_VARS_UBOOT_RUNTIME_CONFIG
