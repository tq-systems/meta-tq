From bfcd269fa69ed0c084d5f1e6119b4b8e3a1dce9f Mon Sep 17 00:00:00 2001
From: Hung Tran <hung.tran.jy@renesas.com>
Date: Wed, 28 Nov 2018 14:58:33 +0700
Subject: [PATCH] Fix ld error unrecognized option with old binutils

With older binutils version 2.25, below error will happen
   aarch64-poky-linux-ld.bfd: unrecognized option '--fix-cortex-a53-843419'

In this binutils version, the option name is "--fix-cortex-a53"
(before change name to "--fix-cortex-a53-843419" in later version)

Fix this by modifying the option name.

Signed-off-by: Hung Tran <hung.tran.jy@renesas.com>
---
 lib/cpus/cpu-ops.mk | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/cpus/cpu-ops.mk b/lib/cpus/cpu-ops.mk
index 456e3e5..1a275e6 100644
--- a/lib/cpus/cpu-ops.mk
+++ b/lib/cpus/cpu-ops.mk
@@ -189,7 +189,7 @@ $(eval $(call add_define,ERRATA_ARES_1043202))
 
 # Errata build flags
 ifneq (${ERRATA_A53_843419},0)
-TF_LDFLAGS_aarch64	+= --fix-cortex-a53-843419
+TF_LDFLAGS_aarch64	+= --fix-cortex-a53
 endif
 
 ifneq (${ERRATA_A53_835769},0)
-- 
1.9.1

